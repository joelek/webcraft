(()=>{"use strict";var e={591:(e,t,r)=>{const n=r(747);function l(e,t){let r=e.readUInt32LE(t);t+=4;let n=r>>0&16777215;if(!(r>>29&1))return e.slice(t,t+n);let l=Buffer.alloc(n),a=0,i=Buffer.alloc(4096),c=0,o=0,f=8;function s(e){l[a]=e,a+=1,i[c]=e,c=c+1&4095}for(;a<l.length;){f>=8&&(o=e.readUInt8(t),t+=1,f=0);let r=o>>f&1;if(f+=1,r){let r=e.readUInt8(t);t+=1,s(r)}else{let r=e.readUInt16LE(t);t+=2;let n=r>>0&4095,l=r>>12&15;for(let e=n;e<n+l+3;e++)s(i[4095&e])}}return l}let a=process.argv[2];"extract"===a?function(e,t){n.mkdirSync(t,{recursive:!0});let r=n.readFileSync("./private/data.war.original"),a=0;r.readUInt32LE(a),a+=4;let i=r.readUInt32LE(a);a+=4;for(let e=0;e<i;e++){let i=r.readUInt32LE(a);a+=4;let c=l(r,i);n.writeFileSync(`${t}${e.toString().padStart(3,"0")}`,c)}}(0,"./private/records/"):"pack"===a?function(e,t){let r=n.readdirSync(e,{withFileTypes:!0}).filter((e=>e.isFile())).sort(((e,t)=>e.name.localeCompare(t.name))),l=Buffer.alloc(8);l.writeUInt32LE(24,0),l.writeUInt32LE(r.length,4);let a=n.openSync("c:/dos/warcraft/data/data.war","w");n.writeSync(a,l);let i=Buffer.alloc(4);i.writeUInt32LE(8+4*r.length);for(let t of r){n.writeSync(a,i);let r=n.statSync(`${e}${t.name}`);i.writeUInt32LE(i.readUInt32LE(0)+4+r.size,0)}for(let t of r){let r=n.readFileSync(`${e}${t.name}`);i.writeUInt32LE(r.length,0),n.writeSync(a,i),n.writeSync(a,r)}n.closeSync(a)}("./private/records/"):console.log("Please specify command.")},747:e=>{e.exports=require("fs")}},t={};!function r(n){if(t[n])return t[n].exports;var l=t[n]={exports:{}};return e[n](l,l.exports,r),l.exports}(591)})();